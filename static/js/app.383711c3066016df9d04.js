webpackJsonp([1],{"6ArV":function(t,e){},GcHa:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("header",[e("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"index"}}},[e("img",{staticClass:"d-inline-block align-top",attrs:{src:"static/img/logo.png",width:"30",height:"30",alt:""}}),this._v("\n          BTCReceiver\n      ")]),this._v(" "),this._m(0),this._v(" "),e("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarCollapse"}},[e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"about"}}},[this._v("About")])],1)])])],1)]),this._v(" "),e("div",{staticClass:"content"},[e("router-view")],1),this._v(" "),e("footer")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]};var r=s("VU/8")({name:"app"},a,!1,function(t){s("baNB")},null,null).exports,o=s("/ocq"),i=s("Dd8w"),c=s.n(i),u=s("NYxO"),l=s("Xxa5"),d=s.n(l),p=s("exGp"),v=s.n(p),f=s("//Fk"),m=s.n(f),g=s("mtWM"),w=s.n(g),b=s("mw3O"),h=s.n(b);w.a.default.timeout=5e3,w.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var _=w.a.create({baseURL:"http://46.229.212.60/api/method/"});_.interceptors.response.use(function(t){return t.data},function(t){return m.a.reject(t)});var C={signUp:function(t){var e=this;return v()(d.a.mark(function s(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/auth.signUp",h.a.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,e)}))()},signIn:function(t){var e=this;return v()(d.a.mark(function s(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/auth.signIn",h.a.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,e)}))()},logout:function(t){var e=this;return v()(d.a.mark(function s(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/auth.logout",h.a.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,e)}))()},getBalance:function(t){var e=this;return v()(d.a.mark(function s(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/btc.balance",h.a.stringify(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},s,e)}))()}},x={name:"home",computed:c()({},Object(u.c)(["user"]),Object(u.b)(["isLoggedIn"])),created:function(){var t=v()(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getBalance({wallet:this.user.wallet});case 2:e=t.sent,this.$store.dispatch("updateUserBalance",{balance:e.response.balance});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{logout:function(t){var e=this;return v()(d.a.mark(function s(){return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),console.log("Logout"),s.next=4,C.logout({access_token:e.user.token});case 4:s.sent,e.$store.dispatch("logoutUser"),console.log("Logout Success");case 7:case"end":return s.stop()}},s,e)}))()},refreshBalance:function(t){var e=this;return v()(d.a.mark(function s(){var n;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),s.next=3,C.getBalance({wallet:e.user.wallet});case 3:n=s.sent,e.$store.dispatch("updateUserBalance",{balance:n.response.balance});case 5:case"end":return s.stop()}},s,e)}))()}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("p",{staticStyle:{"font-size":"20px"}},[s("b",[t._v(t._s(this.user.wallet))])])]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("button",{staticClass:"btn btn-warning",attrs:{type:"submit"},on:{click:t.refreshBalance}},[t._v("Refresh balance")])]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("p",{staticStyle:{"font-size":"35px"}},[s("b",[t._v(t._s(this.user.balance))]),s("span",{staticClass:"text-muted ml-3"},[t._v("BTC")])])]),t._v(" "),s("div",{staticClass:"row justify-content-center",staticStyle:{"margin-top":"50px"}},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"},on:{click:t.logout}},[t._v("Logout")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("p",[this._v("Your BTC address:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("p",[this._v("Balance:")])])}]};var k={name:"index",components:{Home:s("VU/8")(x,y,!1,function(t){s("GcHa")},null,null).exports},computed:c()({},Object(u.b)(["isLoggedIn"]))},P={render:function(){var t=this.$createElement,e=this._self._c||t;return this.isLoggedIn?e("home"):e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticStyle:{"margin-top":"100px"}},[e("router-link",{attrs:{to:{name:"login"}}},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[this._v("Sign-in")])]),this._v(" "),e("router-link",{attrs:{to:{name:"join"}}},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[this._v("Sign-up")])])],1)])])},staticRenderFns:[]};var U=s("VU/8")(k,P,!1,function(t){s("V/0q")},"data-v-313a353f",null).exports,j={name:"login",data:function(){return{userWallet:"",userPassword:""}},computed:c()({},Object(u.c)(["user"]),Object(u.b)(["isLoggedIn"])),methods:{login:function(t){var e=this;return v()(d.a.mark(function s(){var n;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),console.log("Login"),s.next=4,C.signIn({wallet:e.userWallet,password:e.userPassword});case 4:n=s.sent,e.$store.dispatch("loginUser",{wallet:e.userWallet,token:n.response.access_token}),console.log("Login success"),e.$router.replace({name:"index"});case 8:case"end":return s.stop()}},s,e)}))()},logout:function(t){var e=this;return v()(d.a.mark(function s(){return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),console.log("Logout"),s.next=4,C.logout({access_token:e.user.token});case 4:s.sent,e.$store.dispatch("logoutUser"),console.log("Logout Success");case 7:case"end":return s.stop()}},s,e)}))()}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-7"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userWallet"}},[t._v("Wallet address")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userWallet,expression:"userWallet"}],staticClass:"form-control",attrs:{type:"text",id:"userWallet",placeholder:"Enter wallet address.."},domProps:{value:t.userWallet},on:{input:function(e){e.target.composing||(t.userWallet=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userPassword"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPassword,expression:"userPassword"}],staticClass:"form-control",attrs:{type:"password",id:"userPassword"},domProps:{value:t.userPassword},on:{input:function(e){e.target.composing||(t.userPassword=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!t.userWallet||!t.userPassword},on:{click:t.login}},[t._v("Sign In")]),t._v(" "),t.isLoggedIn?s("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"},on:{click:t.logout}},[t._v("Logout")]):t._e(),t._v(" "),s("router-link",{attrs:{to:{name:"join"}}},[s("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Sign-up")])])],1)])])])},staticRenderFns:[]};var B=s("VU/8")(j,$,!1,function(t){s("u6c/")},null,null).exports,L={name:"join",data:function(){return{userPassword:"",userPasswordConfirmation:""}},methods:{join:function(t){var e=this;return v()(d.a.mark(function s(){var n,a,r;return d.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),console.log("Join"),s.next=4,C.signUp({password:e.userPassword});case 4:return n=s.sent,a=n.response.user.wallet,s.next=8,C.signIn({wallet:a,password:e.userPassword});case 8:r=s.sent,e.$store.dispatch("loginUser",{wallet:a,token:r.response.access_token}),console.log("Join success"),e.$router.replace({name:"index"});case 12:case"end":return s.stop()}},s,e)}))()}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-7"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userPassword"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPassword,expression:"userPassword"}],staticClass:"form-control",attrs:{type:"password",id:"userPassword","aria-describedby":"userPasswordHelp"},domProps:{value:t.userPassword},on:{input:function(e){e.target.composing||(t.userPassword=e.target.value)}}}),t._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"userPasswordHelp"}},[t._v("Your BTC wallet will be generated after registration.")])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"userPasswordConfirm"}},[t._v("Password confirmation")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPasswordConfirmation,expression:"userPasswordConfirmation"}],staticClass:"form-control",attrs:{type:"password",id:"userPasswordConfirm"},domProps:{value:t.userPasswordConfirmation},on:{input:function(e){e.target.composing||(t.userPasswordConfirmation=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:""==t.userPassword||""==t.userPasswordConfirmation||t.userPassword!==t.userPasswordConfirmation},on:{click:t.join}},[t._v("\n          Sign Up\n        ")]),t._v(" "),s("router-link",{attrs:{to:{name:"login"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Sign-in")])])],1)])])])},staticRenderFns:[]};var E=s("VU/8")(L,S,!1,function(t){s("VNsw")},null,null).exports,I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this._m(0),this._v(" "),e("div",{staticClass:"row justify-content-center"},[e("router-link",{attrs:{to:{name:"index"}}},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[this._v("Go to main page")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row justify-content-center"},[e("p",[this._v("Simple Bitcoin payments receiver.")])])}]};var N=s("VU/8")({name:"about"},I,!1,function(t){s("lfTN")},null,null).exports,V={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",[this._v("Page not found!")])])])}]};var W=s("VU/8")({name:"not-found"},V,!1,function(t){s("6ArV")},null,null).exports;n.a.use(o.a);var R=new o.a({base:"/",routes:[{path:"/",name:"index",component:U},{path:"/login",name:"login",component:B},{path:"/join",name:"join",component:E},{path:"/about",name:"about",component:N},{path:"*",name:"not-found",component:W}],linkExactActiveClass:"active",mode:"history"}),O=s("424j");n.a.use(u.a);var T={storage:window.localStorage,paths:["user"],filter:function(t){return"updateUser"===t.type||"updateUser"===t.type}},F=new u.a.Store({plugins:[Object(O.a)(T)],state:{user:{token:null,wallet:null,balance:null}},actions:{loginUser:function(t,e){var s=t.getters,n=t.commit;s.isLoggedIn||n("updateUser",{wallet:e.wallet,token:e.token})},updateUserBalance:function(t,e){t.getters;var s=t.commit;e.balance=e.balance||"0",s("updateUserBalance",{balance:e.balance})},logoutUser:function(t){var e=t.getters,s=t.commit;e.isLoggedIn&&(s("updateUser",{wallet:null,token:null}),s("updateUserBalance",{balance:null}))}},getters:{isLoggedIn:function(t){return!(!t.user.token||!t.user.wallet||""===t.user.token||""===t.user.wallet)}},mutations:{updateUser:function(t,e){t.user.wallet=e.wallet,t.user.token=e.token},updateUserBalance:function(t,e){t.user.balance=e.balance}}});n.a.config.productionTip=!1,new n.a({el:"#app",router:R,store:F,components:{App:r},template:"<app/>"})},"V/0q":function(t,e){},VNsw:function(t,e){},baNB:function(t,e){},lfTN:function(t,e){},"u6c/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.383711c3066016df9d04.js.map